<!DOCTYPE html>
<html>
<head>
    <title>Machine Learning Model Predictor</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <h1>Machine Learning Model Predictor</h1>
    <p>Enter input data:</p>

    <label for="age">AGE:</label>
    <input type="number" id="age" placeholder="input number" min="0">

    <label for="g">G:</label>
    <input type="number" id="g" placeholder="input number" min="0">

    <label for="gs">GS:</label>
    <input type="number" id="gs" placeholder="input number" min="0">

    <label for="MP">MP:</label>
    <input type="number" id="mp" placeholder="input number" min="0">
    
    <label for="fg">FG:</label>
    <input type="number" id="fg" placeholder="input number" min="0">

    <label for="fga">FGA:</label>
    <input type="number" id="fga" placeholder="input number" min="0">

    <label for="fgposto">FG%:</label>
    <input type="number" id="fgposto" placeholder="input number" min="0">

    <label for="trip">3P:</label>
    <input type="number" id="trip" placeholder="input number" min="0">

    <label for="tripa">3PA:</label>
    <input type="number" id="tripa" placeholder="input number" min="0">

    <label for="tripposto">3P%:</label>
    <input type="number" id="tripposto" placeholder="input number" min="0">

    <label for="dvap">2P:</label>
    <input type="number" id="dvap" placeholder="input number" min="0">

    <label for="dvapa">2PA:</label>
    <input type="number" id="dvapa" placeholder="input number" min="0">
    
    <label for="dvapposto">2P%:</label>
    <input type="number" id="dvapposto" placeholder="input number" min="0">

    <label for="efgposto">eFG%:</label>
    <input type="number" id="efgposto" placeholder="input number" min="0">

    <label for="ft">FT:</label>
    <input type="number" id="ft" placeholder="input number" min="0">

    <label for="fta">FTA:</label>
    <input type="number" id="fta" placeholder="input number" min="0">

    <label for="ftposto">FT%:</label>
    <input type="number" id="ftposto" placeholder="input number" min="0">

    <label for="orb">ORB:</label>
    <input type="number" id="orb" placeholder="input number" min="0">

    <label for="drb">DRB:</label>
    <input type="number" id="drb" placeholder="input number" min="0">
    
    <label for="trb">TRB:</label>
    <input type="number" id="trb" placeholder="input number" min="0">

    <label for="ast">AST:</label>
    <input type="number" id="ast" placeholder="input number" min="0">

    <label for="stl">STL:</label>
    <input type="number" id="stl" placeholder="input number" min="0">

    <label for="blk">BLK:</label>
    <input type="number" id="blk" placeholder="input number" min="0">

    <label for="tov">TOV:</label>
    <input type="number" id="tov" placeholder="input number" min="0">

    <label for="pf">PF:</label>
    <input type="number" id="pf" placeholder="input number" min="0">
    
    <label for="pts">PTS:</label>
    <input type="number" id="pts" placeholder="input number" min="0">

    <button id="predictButton">Predict</button>
    <p>Result:</p>
    <div id="predictionResult"></div>

    <script>
        // JavaScript code for making the API request and displaying the result
        document.getElementById('predictButton').addEventListener('click', () => {
            const age = Number(document.getElementById('AGE').value);
            const g = Number(document.getElementById('G').value);
            const gs = Number(document.getElementById('GS').value);
            const mp = Number(document.getElementById('MP').value);
            const fg = Number(document.getElementById('FG').value);
            const fga = Number(document.getElementById('FGA').value);
            const fgposto = Number(document.getElementById('AGE').value);
            const trip = Number(document.getElementById('G').value);
            const tripa = Number(document.getElementById('AGE').value);
            const tripposto = Number(document.getElementById('G').value);
            const dvap = Number(document.getElementById('GS').value);
            const dvapa = Number(document.getElementById('MP').value);
            const dvapposto = Number(document.getElementById('FG').value);
            const efgposto = Number(document.getElementById('FGA').value);
            const ft = Number(document.getElementById('AGE').value);
            const fta = Number(document.getElementById('G').value);
            const ftposto = Number(document.getElementById('AGE').value);
            const orb = Number(document.getElementById('G').value);
            const drb = Number(document.getElementById('GS').value);
            const trb = Number(document.getElementById('MP').value);
            const ast = Number(document.getElementById('FG').value);
            const stl = Number(document.getElementById('FGA').value);
            const blk = Number(document.getElementById('AGE').value);
            const tov = Number(document.getElementById('G').value);
            const pf= Number(document.getElementById('AGE').value);
            const pts = Number(document.getElementById('G').value);
            // Retrieve values for other attributes and convert them to numbers

            const inputData = {
                "Age": age,
                "G": g,
                "GS": gs,
                "MP": mp,
                "FG": fg,
                "FGA": fga,
                "FG%": fgposto,
                "3P": trip,
                "3PA": tripa,
                "3P%": tripposto,
                "2P": dvap,
                "2PA": dvapa,
                "2P%": dvapposto,
                "eFG%": efgposto,
                "FT": ft,
                "FTA": fta,
                "FT%": ftposto,
                "ORB": orb,
                "DRB": drb,
                "TRB": trb,
                "AST": ast,
                "STL": stl,
                "BLK": blk,
                "TOV": tov,
                "PF": pf,
                "PTS": pts
            };

            const apiUrl = 'http://20.8.189.172:80/api/v1/service/nba-stats-denorm-ep/score'; 
            const authToken = 'MRK1GFSJA9PhUM2JcAyxRgGgZieIyJLD'; 

            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ input_data: inputData })
            })
            .then(response => response.json())
            .then(data => {
                const resultElement = document.getElementById('predictionResult');
                presultElement.textContent = `Prediction: ${data.prediction}`;
            })
            .catch(error => {
                console.error('API request failed:', error);
                const resultElement = document.getElementById('predictionResult');
                resultElement.textContent = 'Error occurred while making the prediction.';
            });
        });
    </script>
</body>
</html>

